<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Google PageRank, NCAA Football, and Luck &#8211; Sumedh Joshi</title>
<meta name="description" content="How sensitive is Google's PageRank to luck in ranking CFB teams?">
<meta name="keywords" content="">


<!-- Twitter Cards -->
<meta name="twitter:title" content="Google PageRank, NCAA Football, and Luck">
<meta name="twitter:description" content="How sensitive is Google's PageRank to luck in ranking CFB teams?">
<meta name="twitter:site" content="@SumedhJoshiUT">
<meta name="twitter:creator" content="@SumedhJoshiUT">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://localhost:4000/images/default-thumb.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Google PageRank, NCAA Football, and Luck">
<meta property="og:description" content="How sensitive is Google's PageRank to luck in ranking CFB teams?">
<meta property="og:url" content="http://localhost:4000/football/google-pagerank-and-ncaa-football/">
<meta property="og:site_name" content="Sumedh Joshi">

<meta property="og:image" content="http://localhost:4000/images/default-thumb.png">






<link rel="canonical" href="http://localhost:4000/football/google-pagerank-and-ncaa-football/">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Sumedh Joshi Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">
<link rel="stylesheet" href="http://localhost:4000/assets/css/glightbox.css">
<link rel="stylesheet" href="http://localhost:4000/assets/css/glightbox.min.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="http://localhost:4000/assets/js/vendor/html5shiv.min.js"></script>
	<script src="http://localhost:4000/assets/js/vendor/respond.min.js"></script>
	<script src="http://localhost:4000/assets/js/vendor/glightbox.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://localhost:4000/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<!-- <link rel="shortcut icon" href="http://localhost:4000/favicon.ico"> -->
<!-- 32x32 -->
<!-- <link rel="shortcut icon" href="http://localhost:4000/favicon.png"> -->
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<!-- <link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/apple-touch-icon-precomposed.png"> -->
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<!--<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72-precomposed.png"> -->
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<!--<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114-precomposed.png"> -->
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144-precomposed.png"> -->

</head>



<body class="post">

<script type="text/javascript"
   src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->


<div class="navigation-wrapper">
	<div class="site-name">
		<a href="http://localhost:4000/">Sumedh Joshi</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				    
				    <li><a href="http://localhost:4000/about/" >About</a></li>
				
				    
				    <li><a href="http://localhost:4000/projects/" >Projects</a></li>
				
				    
				    <li><a href="http://localhost:4000/posts/" >Blog</a></li>
				
				    
				    <li><a href="http://localhost:4000/vita/" >Vita</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->

<script>

  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-21252595-2', 'auto');
      ga('send', 'pageview');

</script>




<div id="main" role="main">
  <div class="article-author-side">
    

<div itemscope itemtype="https://schema.org/Person">


	<img src="http://localhost:4000/images/bio-photo.jpg" class="bio-photo" alt="Sumedh Joshi bio photo">


  <h3 itemprop="name">Sumedh Joshi</h3>
  <p>Applied Mathematician</p>
  <a href="mailto:sumedh.m.joshi@gmail.com" class="author-social" target="_blank"><i class="fa fa-fw fa-envelope-square"></i> Email</a>
  <a href="https://twitter.com/SumedhJoshiUT" class="author-social" target="_blank"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a>
  <a href="https://facebook.com/sumedh.joshi.12" class="author-social" target="_blank"><i class="fa fa-fw fa-facebook-square"></i> Facebook</a>
  
  <a href="https://linkedin.com/in/sumedhjoshi" class="author-social" target="_blank"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a>
  
  <a href="https://instagram.com/phdmyselfandi" class="author-social" target="_blank"><i class="fa fa-fw fa-instagram"></i> Instagram</a>
  
  <a href="https://github.com/sumedhjoshi" class="author-social" target="_blank"><i class="fa fa-fw fa-github"></i> Github</a>
  
  
  
  
  
  
  
  
  
  
</div>

  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="http://localhost:4000/football/google-pagerank-and-ncaa-football/" rel="bookmark" title="Google PageRank, NCAA Football, and Luck">Google PageRank, NCAA Football, and Luck</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <h2 id="graph-of-sports-leagues">Graph of sports leagues</h2>

<p>If you think of sports teams as nodes (vertices) and games between teams as edges between the nodes, professional sports leagues have very different characters as graphs.  Most leagues are divided into divisions, or conferences, and so the graphs tend to have clusters within a division, and fewer edges between divisions.  All the graphs are connected, and some, like the one of the NBA, are even complete.  Usually, the sports leagues are divided into subgraphs that are themselves complete; for example Major League Baseball is divided into the American League and National League.  Within each League, all teams play each other, and teams have a limited set of games against teams in the other league (so-called interleague play).</p>

<p>The graphs of the major American sports leagues are characterized in the table below.  <em>Nodes</em> means teams, <em>degree</em> means games, and <em>complete sub-graphs</em> means the number of divisions/conferences/etc.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">League</th>
      <th style="text-align: left"># of Nodes</th>
      <th style="text-align: left">Degree of each node</th>
      <th style="text-align: left"># of Complete Sub-Graphs</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">NBA</td>
      <td style="text-align: left">30</td>
      <td style="text-align: left">82</td>
      <td style="text-align: left">1</td>
    </tr>
    <tr>
      <td style="text-align: left">MLB</td>
      <td style="text-align: left">32</td>
      <td style="text-align: left">162</td>
      <td style="text-align: left">2</td>
    </tr>
    <tr>
      <td style="text-align: left">NFL</td>
      <td style="text-align: left">32</td>
      <td style="text-align: left">16</td>
      <td style="text-align: left">6</td>
    </tr>
  </tbody>
</table>

<p>(<em>Complete sub-graph</em> is a term Iâ€™m using sort of heuristically here; every graph has lots of complete subgraphs of small size; I mean complete sub-graph of conference/division size.)</p>

<h2 id="the-graph-of-college-football">The graph of college football</h2>

<p>The graph of college football is very different from the ones described above.  This is because a college football team will only play about 12 games in a season, and there is something like 130 college football teams.  There is little hope of there being just 1 or 2 of complete graphs.  This is a characteristic in the NFL too, in which teams play only 16 games per season, but unlike college football, there are only 32 NFL teams.  Take a look at the graph of college football from the 2012 season:</p>

<figure>
<center>
   <a href="/images/cfb_network_cluster.png"><img width="60%" src="/images/cfb_network_cluster.png" /></a>
</center>
   <figcaption> The network of college football.  Teams are nodes, and edges are games between teams.  The six power conferences are clustered together, and the gray circle of teams in the middle are the non-power conference teams. </figcaption>
</figure>

<p>There are six so-called <em>power</em> conferences which are well-connected within themselves, and are represented by the six clustered groups of teams around the perimeter of the above picture.  Outside of these six conferences, there are the remaining 50% of college football teams that are either independent or in lesser conferences; these teams are represented in gray in the inner circle.  There are few games between power conferences, but lots of games between power and non-power conference teams (these are the edges connecting vertices in the inner circle to one of the outer circle teams).</p>

<h2 id="ranking-teams-with-pagerank">Ranking teams with PageRank</h2>

<p>Because there no large, complete sub-graphs in the college football network, ranking college football teams is a non-trivial task.  Until recently, there was a selection procedure that used computer models to determine rankings.</p>

<p>Googleâ€™s PageRank is an algorithm developed by Google co-founder Larry Page for ranking webpages for importance.  In Pageâ€™s original formulation, the internet was modeled as a directed graph with pages as nodes and edges being links from one page to another.  This graph was represented with an adjacency matrix \(A\), whose entries \(a_{ij}\) are givn by</p>

\[a_{ij} = \textrm{edge weight from node } i \textrm{ to node } j\]

<p>The PageRank algorithm works (roughly) by using power iteration to obtain the dominant eigenvector \(v\) of \(A\).  The value of entry \(v_i\) in the eigenvector represents the PageRank of node \(i\).  PageRank includes some extra steps to treat edge cases in which the graph is disconnected or there are closed loops, but this is the basic idea.</p>

<p>We can apply PageRank to rank college football teams too.  Again, the teams are the nodes \(v_i\), the edges are the games between them, and the edge weights are the score differential; the edges point from the winning team to the losing team.  Like anything else reasonably famous, these is a Python package to compute pageranks of directed, weighted graphs called networkx.  I used Python/networkx along with data from the 2014 college football season.</p>

<p>First, letâ€™s just see how PageRank does with the 2015 season.  Here is the ranking of the top-10 teams of the 2015 college football season according to PageRank.</p>

<table>
  <tbody>
    <tr>
      <td>1. Ohio St.</td>
    </tr>
    <tr>
      <td>2. Oregon</td>
    </tr>
    <tr>
      <td>3. Baylor</td>
    </tr>
    <tr>
      <td>4. Mississippi</td>
    </tr>
    <tr>
      <td>5. Georgia</td>
    </tr>
    <tr>
      <td>6. Georgia Tech</td>
    </tr>
    <tr>
      <td>7. Virginia Tech</td>
    </tr>
    <tr>
      <td>8. Alabama</td>
    </tr>
    <tr>
      <td>9. Texas Christian</td>
    </tr>
    <tr>
      <td>10. Missouri</td>
    </tr>
  </tbody>
</table>

<p>These are somewhat reasonable results; the national champion and runner-up are correctly ranked at #1 and #2.  The rest of the teams are at least all pretty good.  Florida St. is not ranked in the top ten even though they were ranked as the #3 team before the playoffs, but that was a questionable ranking and Florida St. was beaten soundly in their first playoff game.  All-in-all, this seems to produce reasonable results.</p>

<h2 id="adding-noise-to-the-network">Adding noise to the network</h2>

<p>The question I want to ask is, <em>How sensitive is PageRank to noise</em>?  In this context, noise can be interpreted as luck, and can be modeled as adding to the score differential a zero-mean Gaussian random variable with some variance.  In math, this means that Iâ€™ll modify the non-zero entries of the adjacency matrix \(A\) and create a new matrix \(\tilde{A}\) whose entries are defined as</p>

\[\tilde{a}_{ij} =a_{ij} + N(0,\sigma)\]

<p>where-ever \(A\) is non-zero.  \(N(0,\sigma)\) is a zero-mean Gaussian random variable with standard deviation \(\sigma\).  In my interpretation, \(\sigma\) represents how much we think luck matters.  Some possible choices of \(\sigma\) are:</p>

<ol>
  <li>
    <p>\(\sigma = 0\): this means we think the scores represent perfectly who the better team was and by how much.</p>
  </li>
  <li>
    <p>\(\sigma = 3\): this means we think that luck matters about a field goalâ€™s worth of points.</p>
  </li>
  <li>
    <p>\(\sigma = 6\): this means we think that luck matters about a touchdownâ€™s worth of points.</p>
  </li>
</ol>

<p>Naturally many other choices are possible, but I wanted to try these three since they have clear interpretations in the context of college football.</p>

<p>Lastly, and most importantly, I wanted to  make sure I wasnâ€™t monkeying around too much with the data by adding noise everywhere in the college football network.  So, I only added the \(N(0,\sigma)\) noise term to games between bad teams.  Any games that included teams ranked roughly in the top-25 of PageRank scores were not modified at all.  My goal was to see if adding noise to <em>unimportant</em> games (those between bad teams) would affect the rankings of good teams.  Basically what Iâ€™m saying is that no one really cares about the outcome of Idaho St. vs. Bowling Green (sorry Vandals and Falcons), and so adding noise to those games should, in principle, not affect the top-10 teams at all.  This turns out to not be true.</p>

<p>Most of the time, as you would expect, when you add noise to teams outside of the top 25, you see no difference in the top-10 rankings; theyâ€™re the same ones I posted above.  But every once in a while, the top-10 will change, and even less frequenctly, the <em>number</em> <em>one</em> ranked team will change!  In the following table Iâ€™ve summarized the results of simulating 1000 trials of random noise with \(\sigma = 0,3\) and \(6\).  I picked out the resulting subset of trials in which Oregon was ranked higher than Ohio St., and have listed the the results for the top-10 teams.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">\(\sigma = 0\) (1000/1000 times)</th>
      <th style="text-align: left">\(\sigma = 3\) (1/1000 times)</th>
      <th style="text-align: left">\(\sigma = 6\) (12/1000 times)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">1. Ohio St.</td>
      <td style="text-align: left">1. Oregon</td>
      <td style="text-align: left">1. Oregon</td>
    </tr>
    <tr>
      <td style="text-align: left">2. Oregon</td>
      <td style="text-align: left">2. Ohio St.</td>
      <td style="text-align: left">2. Ohio St.</td>
    </tr>
    <tr>
      <td style="text-align: left">3. Baylor</td>
      <td style="text-align: left">3. Baylor</td>
      <td style="text-align: left">3. Baylor</td>
    </tr>
    <tr>
      <td style="text-align: left">4. Mississippi</td>
      <td style="text-align: left">4. Mississippi</td>
      <td style="text-align: left">4. Georgia</td>
    </tr>
    <tr>
      <td style="text-align: left">5. Georgia</td>
      <td style="text-align: left">5. Georgia</td>
      <td style="text-align: left">5. Mississippi</td>
    </tr>
    <tr>
      <td style="text-align: left">6. Georgia Tech</td>
      <td style="text-align: left">6. Georgia Tech</td>
      <td style="text-align: left">6. Georgia Tech</td>
    </tr>
    <tr>
      <td style="text-align: left">7. Virginia Tech</td>
      <td style="text-align: left">7. Virginia Tech</td>
      <td style="text-align: left">7. Virginia Tech</td>
    </tr>
    <tr>
      <td style="text-align: left">8. Alabama</td>
      <td style="text-align: left">8. Alabama</td>
      <td style="text-align: left">8. Alabama</td>
    </tr>
    <tr>
      <td style="text-align: left">9. Texas Christian</td>
      <td style="text-align: left">9. Texas Christian</td>
      <td style="text-align: left">9. Texas Christian</td>
    </tr>
    <tr>
      <td style="text-align: left">10. Missouri</td>
      <td style="text-align: left">10. Missouri</td>
      <td style="text-align: left">10. Missouri</td>
    </tr>
  </tbody>
</table>

<p>This is a weird thing that is happening, and sort of shows the limitation of PageRank as it pertains to the college football network.  First, we (as college football fans) care a <em>lot</em> about who is #1 and who is #2.  PageRank doesnâ€™t care about this as much; it just wants to make sure that good teams are given good scores.</p>

<p>Second, the college football network has a very peculiar characteristic in that most paths from high-ranked nodes to other high-ranked nodes travel through the set of low-ranked nodes.  This means that information flows from good teams to good teams through bad teams and the unimportant games between them.  When I add noise to those unimportant games, it can alter the way the paths connect good teams to good teams.  This manifests as changing the PageRank of teams whose games I did not touch.</p>

<p>I would be curious to see what would happen if I did a similar PageRank + noise experiment with other sports leagues, especially those, like the NBA, whose graphs are complete.  Would the PageRank then be more resilient to noise?</p>

      <hr />
      <footer role="contentinfo">
        <div class="social-share">
  <h4>Share on</h4>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/football/google-pagerank-and-ncaa-football/" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/football/google-pagerank-and-ncaa-football/" class="facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=http://localhost:4000/football/google-pagerank-and-ncaa-football/" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
  </ul>
</div><!-- /.social-share -->
        <p class="byline"><strong>Google PageRank, NCAA Football, and Luck</strong> was published on <time datetime="2015-07-03T03:00:45-05:00">July 03, 2015</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="http://localhost:4000/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="http://localhost:4000/academia/tracking-the-growth-of-my-dissertation-over-time/" title="Tracking the Growth of My Dissertation Over Time">Tracking the Growth of My Dissertation Over Time</a></li>
    
      <li><a href="http://localhost:4000/academia/tips-for-applying-for-the-ndseg-fellowship/" title="Tips for Applying for the NDSEG Fellowship">Tips for Applying for the NDSEG Fellowship</a></li>
    
      <li><a href="http://localhost:4000/misc/how-manys-are-there-to-get-from-austin-to-mumbai/" title="How many routes are there to fly from Austin to Mumbai?">How many routes are there to fly from Austin to Mumbai?</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  
  <footer>
    

<span>&copy; 2025 Sumedh Joshi. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="https://mademistakes.com/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:4000/assets/js/scripts.min.js"></script>


  
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'sumedhjoshi'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



	        

</body>
</html>
